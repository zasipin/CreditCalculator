"use strict";angular.module("myApp",["ngRoute","myApp.filters","myApp.services","myApp.directives","myApp.controllers","LocalStorageModule"]).config(["localStorageServiceProvider",function(e){e.prefix="cr"}]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"partials/main.html",controller:"mainCtrl"}),e.otherwise({redirectTo:"/"})}]).constant("appConfig",{emailToAdress:"creditcalculator.developer@gmail.com",emailToText:"Написать разработчику"});
"use strict";var servicesModule=angular.module("myApp.services",[]);servicesModule.value("version","1.0.0");
"use strict";angular.module("myApp.services").service("CreditBoard",["localStorageService","CreditCount","creditCalculator",function(t,e,r){var n=function(e){e=angular.extend({},this.defaultSettings,e),e.percentsYear=t.get("percentsYear")||e.percentsYear,e.creditSum=t.get("creditSum")||e.creditSum,this.percentsYear=e.percentsYear,this.inflation=e.inflation,this.creditSum=e.creditSum,this.countYears=e.countYears,this.percentsYearSlide=this.percentsYear,this.percentsPerMonth=0,this.updatePercentsMonth(this.percentsYear),this.creditCountsInit(),this.creditCounts=r.getCredits()};return n.prototype={monthsInYear:12,percentsMonth:function(t){return this.updatePercentsMonth(t),100*this.percentsPerMonth},percentsReal:function(t,e){return 100*((1+t/100)/(1+e/100)-1)},creditCountsInit:function(){for(var t=12,n=12,s=this.monthsInYear*this.countYears;s>=n;n+=t)r.addCredit(new e({months:n,annualPercent:this.percentsYear,creditAmount:this.creditSum}))},updatePercentsMonth:function(t){this.percentsPerMonth=t/this.monthsInYear/100},recalculate:function(e,n){this.updatePercentsMonth(e),r.recalculate(this.percentsPerMonth,n),t.set("creditSum",n),t.set("percentsYear",e)},updateAfterInputPercents:function(t,e){this.percentsYearSlide=t,this.recalculate(t,e)},updateAfterSlidePercents:function(t,e){this.percentsYear=+t,this.recalculate(t,e)}},n.prototype.defaultSettings={percentsYear:10,inflation:1,creditSum:1e5,countYears:25},n}]);
"use strict";angular.module("myApp.services").service("creditCalculator",[function(){var t=function(){this.credits=[]};return t.prototype={addCredit:function(t){this.credits.push(t)},removeCredit:function(){this.credits.pop()},recalculate:function(t,e){for(var r=0;r<this.credits.length;r++)this.credits[r].recalculate(t,e)},getCredits:function(){return this.credits}},new t}]);
"use strict";angular.module("myApp.services").service("CreditCount",function(){var t=function(t){this.months=t.months>=0?t.months||0:0,this.isForRecentDifference=t.isForRecentDifference||!1,this.annuitetCoefficient=0,this.monthlyPay=0,this.totalPay=0,this.overpay=0,this.overpayPercentage=0,this.recentYearDifference=0,this.creditAmount=t.creditAmount||0,this.annualPercent=t.annualPercent||0,this.recalculate(this.annualPercent/this.monthsInYear/100,this.creditAmount)};return t.prototype.monthsInYear=12,t.prototype.recalculate=function(e,n){var i,s=Math.pow(1+e,this.months);this.updateCoefficients(e,n),1===s?this.annuitetCoefficient=0:this.annuitetCoefficient=e*s/(s-1),this.monthlyPay=n*this.annuitetCoefficient,this.totalPay=this.monthlyPay*this.months,this.overpay=this.totalPay-n,0===n?this.overpayPercentage=0:this.overpayPercentage=this.overpay/n*100,this.isForRecentDifference||(i=new t({months:this.months-this.monthsInYear,annualPercent:this.annualPercent,creditAmount:this.creditAmount,isForRecentDifference:!0}),this.recentYearDifference=0===i.totalPay?0:this.overpayPercentage-i.overpayPercentage)},t.prototype.updateCoefficients=function(t,e){this.creditAmount=e||0,this.annualPercent=100*t*this.monthsInYear||0},t});
"use strict";angular.module("myApp.controllers",[]).controller("mainCtrl",["$scope",function(l){}]);
"use strict";angular.module("myApp.filters",[]).filter("interpolate",["version",function(r){return function(e){return String(e).replace(/\%VERSION\%/gm,r)}}]);
"use strict";angular.module("myApp.directives",[]).directive("appVersion",["version",function(t){return function(e,r,n){r.text(t)}}]).directive("mailTo",function(){return{restrict:"EA",templateUrl:"partials/mailTo.html",scope:{},controller:["$scope","$element","$attrs","appConfig",function(t,e,r,n){t.appConfig=n}]}}).directive("creditDashboard",function(){return{link:function(t,e,r){},restrict:"EA",templateUrl:"partials/creditDashboard.html",scope:{},controller:["$scope","$element","$attrs","CreditBoard",function(t,e,r,n){t.board=new n({percentsYear:22,inflation:7,creditSum:1e5});var i=t.board;t.$watch("board.percentsYear",function(t,e){i.updateAfterInputPercents(t,i.creditSum)})}]}});
!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-61833900-1","auto"),ga("send","pageview");
!function(t,e,a){(e[a]=e[a]||[]).push(function(){try{e.yaCounter29684095=new Ya.Metrika({id:29684095,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})}catch(t){}});var c=t.getElementsByTagName("script")[0],n=t.createElement("script"),r=function(){c.parentNode.insertBefore(n,c)};n.type="text/javascript",n.async=!0,n.src=("https:"==t.location.protocol?"https:":"http:")+"//mc.yandex.ru/metrika/watch.js","[object Opera]"==e.opera?t.addEventListener("DOMContentLoaded",r,!1):r()}(document,window,"yandex_metrika_callbacks");